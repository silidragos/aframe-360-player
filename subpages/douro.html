<html>
	<head>
		<script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
		<script src="https://unpkg.com/aframe-template-component@3.2.1/dist/aframe-template-component.min.js"></script>
		
		<script src="components/slide.js"></script>
		<script src="components/video_controls.js"></script>
	</head>
	<body>
		<a-scene id="app">
			<a-asset id="assets">
				<video id="video" crossorigin="anonymous" src="https://cdn.glitch.com/63682f73-b007-4699-995d-7bbcf39b8f3e%2Ffinal_2%20(1).mp4?v=1625999038271" autoplay loop="false"></video>
				
				<img id="pause" src="assets/pause.png"></img>
				<img id="play" src="assets/play.png"></img>
				
				<img id="img_1" src="assets/douro_imgs/douro_1.jpg"></img>
				<img id="img_2" src="assets/douro_imgs/douro_2.jpg"></img>
				<img id="img_3" src="assets/douro_imgs/liquen_1.jpg"></img>
				<img id="img_4" src="assets/douro_imgs/liquen_2.jpg"></img>
				<img id="img_5" src="assets/douro_imgs/margens.jpg"></img>
				<img id="img_6" src="assets/douro_imgs/mapa.jpg"></img>
				<img id="img_7" src="assets/douro_imgs/douro_liquen_1.jpg"></img>
				<img id="img_8" src="assets/douro_imgs/douro_liquen_2.jpg"></img>
				<img id="img_9" src="assets/douro_imgs/douro_liquen_3.jpg"></img>
				
				
			</a-asset>
			
			<a-videosphere id="#sphere" src="#video" rotation="0 -110 0" ></a-videosphere>
			</a-plane>		
			
			<a-entity video_controls="video_id:#video" position="0 3.5 -8"></a-entity>
			
			<script>

				// Data sample of how to use window slider
				// TODO : ADD rotation and "time"
				slide = {
					"video_id" : "#video",
					"id" : "myid" ,
					"position" : "0 2 -8" ,
					"rotation" : "0 0 0" ,
					"size" : 
					{
						"width" : 8 ,
						"height" : 5 ,
					},
					"title" : "Show Slide" ,
					"slides" : 
					[
					 	{ 
							"title" : "Douro river canyons",
							"type" : "text",
							"value" : "in this experience, is\napproached about lichens\nduring a tour of the\ncanyons of the Douro river" ,
							"size" : 8 ,
							"second" : 0*60 + 0,
							"triggered" : false,
						},
						{
							"title" : "Map",
							"type" : "image" ,
							"url" : "#img_6" ,
							"width" : 8 ,
							"height" : 5 ,
							"second" : 15,
							"triggered" : false,
						},
						{
							"title" : "Douro river",
							"type" : "image" ,
							"url" : "#img_1" ,
							"width" : 8 ,
							"height" : 5 ,
							"second" : 0*60 + 30,
							"triggered" : false,
						},
						{
							"title" : "Douro river",
							"type" : "image" ,
							"url" : "#img_2" ,
							"width" : 8 ,
							"height" : 5 ,
							"second" : 0*60 + 45,
							"triggered" : false,
						},
						{ 
							"title" : "Douro river canyons",
							"type" : "text",
							"value" : "During the tour, it\nis possible to see the\ntwo banks of the river,\nthe Portuguese and\nthe Spanish." ,
							"size" : 8 ,
							"second" : 1*60 + 0,
							"triggered" : false,
						},
						{
							"title" : "Douro river banks",
							"type" : "image" ,
							"url" : "#img_5" ,
							"width" : 8 ,
							"height" : 5 ,
							"second" : 1*60 + 15,
							"triggered" : false,
						},
						{ 
							"title" : "Douro river canyons",
							"type" : "text",
							"value" : "on the rocks it\nis possible to see\nsome lichens", 
							"size" : 8 ,
							"second" : 1*60 + 30,
							"triggered" : false,
						},
						{
							"title" : "Lichen example",
							"type" : "image" ,
							"url" : "#img_3" ,
							"width" : 8 ,
							"height" : 5 ,
							"second" : 1*60 + 45,
							"triggered" : false,
						},
						{
							"title" : "Lichen example",
							"type" : "image" ,
							"url" : "#img_4" ,
							"width" : 8 ,
							"height" : 5 ,
							"second" : 2*60 + 0,
							"triggered" : false,
						},
						{
							"title" : "Lichens in river",
							"type" : "image" ,
							"url" : "#img_7" ,
							"width" : 8 ,
							"height" : 5 ,
							"second" : 2*60 + 15,
							"triggered" : false,
						},
						{
							"title" : "Lichens in river",
							"type" : "image" ,
							"url" : "#img_8" ,
							"width" : 8 ,
							"height" : 5 ,
							"second" : 2*60 + 30,
							"triggered" : false,
						},
						{
							"title" : "Lichens in river",
							"type" : "image" ,
							"url" : "#img_9" ,
							"width" : 8 ,
							"height" : 5 ,
							"second" : 2*60 + 45,
							"triggered" : false,
						},
						{ 
							"title" : "Lichens",
							"type" : "text",
							"value" : "are living beings\nresulting from the\nsymbiosis between\nfungus and algas." ,
							"size" : 8 ,
							"second" : 3*60 + 0,
							"triggered" : false,
						},
						{ 
							"title" : "Lichens",
							"type" : "text",
							"value" : "they are extremely\nsensitive and can only\ngrow in humid and\nunpolluted places." ,
							"size" : 8 ,
							"second" : 3*60 + 15,
							"triggered" : false,
						},
						{ 
							"title" : "Lichens",
							"type" : "text",
							"value" : "The presence of\nlichen is synonymous\nof good quality air" ,
							"size" : 8 ,
							"second" : 3*60 + 30,
							"triggered" : false,
						},
						{ 
							"title" : "Lichens",
							"type" : "text",
							"value" : "lichens are bioindicators\nof air pollution" ,
							"size" : 8 ,
							"second" : 3*60 + 45,
							"triggered" : false,
						},
						{ 
							"title" : "Symbiosis",
							"type" : "text",
							"value" : "a long-term association\nbetween two organisms\nof different species" ,
							"size" : 8 ,
							"second" : 4*60 + 0,
							"triggered" : false,
						},
						{ 
							"title" : "Symbiosis",
							"type" : "text",
							"value" : "this relationship can\nbe beneficial to both\nindividuals involved\nor not." ,
							"size" : 8 ,
							"second" : 4*60 + 15,
							"triggered" : false,
						},
						{ 
							"title" : "Bioindicators",
							"type" : "text",
							"value" : "Bioindicators are\nliving beings that\nrespond in different ways\nto changes in the\nenvironment.",
							"size" : 8 ,
							"second" : 4*60 + 30,
							"triggered" : false,
						},
						{ 
							"title" : "Bioindicators",
							"type" : "text",
							"value" : "allow the assessment\nof the quality of the\nenvironment, bioindicators\nhelp to understand the\nconsequences of man's\ninterventions in nature." ,
							"size" : 8 ,
							"second" : 4*60 + 45,
							"triggered" : false,
						},
					] 	
				};
				
				app = document.getElementById("app")
				
				// script to generate an slider
				x = document.createElement("a-entity")
				x.setAttribute("a-slide","json:"+JSON.stringify(slide))				
				app.appendChild(x)
				
			</script>
			

			<!-- Camera + Cursor. -->
			<a-camera>
				<a-cursor
				id="cursor"
				animation__click="property: scale; from: 0.1 0.1 0.1; to: 1 1 1; easing: easeInCubic; dur: 150; startEvents: click"
				animation__clickreset="property: scale; to: 1 1 1; dur: 1; startEvents: animationcomplete__click"
				animation__fusing="property: scale; from: 1 1 1; to: 0.1 0.1 0.1; easing: easeInCubic; dur: 150; startEvents: fusing">
				</a-cursor>
			</a-camera>
		</a-scene>
	</body>
</html>
